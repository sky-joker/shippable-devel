language: python

runtime:
  nodePool: shippable_shared_aarch64
  container: true

build:
  ci:
    - apt install -y gcc python-dev
    - git clone https://github.com/sky-joker/travis-ci-zabbix-test.git
    - cd travis-ci-zabbix-test
    - ls
    - pip install ansible docker-compose
    - docker-compose up -d
    - ansible-playbook zabbix_startup_check.yml
    - sh set_zabbix_locale.sh
    #- docker run -d -it --name test -v /opt:/opt centos:7
    #- docker ps


#build:
#  pre_ci_boot:
#    options: "-v /tmp:/tmp"
#  ci:
#    - apt install -y docker gcc python-dev
#    - pip install ansible docker-compose
#    - git clone https://github.com/sky-joker/awx-arm64arch.git
#    - cp -R awx-arm64arch/ /tmp
#    - cd /tmp/awx-arm64arch/
#    - git checkout -b 4.0.0 refs/tags/4.0.0
#    - cd installer/
#    - ansible-playbook build.yml -i inventory -vvv
